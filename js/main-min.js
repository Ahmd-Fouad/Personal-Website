function initNavigation(){let e=document.querySelectorAll(".nav-link"),t=document.querySelectorAll("section[id]"),o=document.getElementById("navbar");function n(){let n="",i=window.scrollY+100;t.forEach(e=>{var t=e.offsetTop,o=e.clientHeight;i>=t&&i<t+o&&(n=e.getAttribute("id"))}),e.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+n&&e.classList.add("active")})}e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth",block:"start"})})}),100<window.scrollY?o.classList.add("bg-darkblue/95","navbar-blur","shadow-lg"):o.classList.remove("bg-darkblue/95","navbar-blur","shadow-lg"),window.addEventListener("scroll",()=>{100<window.scrollY?o.classList.add("bg-darkblue/95","navbar-blur","shadow-lg"):o.classList.remove("bg-darkblue/95","navbar-blur","shadow-lg"),n()}),n()}function initScrollAnimations(){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.querySelectorAll(".stagger-animation").forEach((e,t)=>{setTimeout(()=>{e.classList.add("animate")},150*t)}),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("section").forEach(e=>{e.querySelector(".stagger-animation")&&t.observe(e)})}function initScrollToTop(){let e=document.getElementById("scroll-top");function t(){300<window.scrollY?(e.style.opacity="1",e.style.pointerEvents="auto"):(e.style.opacity="0",e.style.pointerEvents="none")}e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",t),t()}function initMobileMenu(){let t=document.getElementById("mobile-menu-btn"),o=document.getElementById("mobile-menu");var e=document.querySelectorAll(".mobile-nav-link");t.addEventListener("click",()=>{o.classList.toggle("hidden");var e=t.querySelector("i");o.classList.contains("hidden")?(e.classList.remove("fa-times"),e.classList.add("fa-bars")):(e.classList.remove("fa-bars"),e.classList.add("fa-times"))}),e.forEach(e=>{e.addEventListener("click",()=>{o.classList.add("hidden");var e=t.querySelector("i");e.classList.remove("fa-times"),e.classList.add("fa-bars")})})}function initContactForm(){let n=document.getElementById("contact-form");n.addEventListener("submit",function(e){e.preventDefault();e=new FormData(n),e=new URLSearchParams(e).toString();let t=n.querySelector('button[type="submit"]'),o=t.innerHTML;t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...',t.disabled=!0,fetch(n.action||window.location.href,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then(e=>{if(!e.ok)throw new Error("Netlify submission failed.");n.reset(),t.innerHTML="âœ“ Message Sent Successfully",t.style.backgroundColor="#22c55e",setTimeout(()=>{t.innerHTML=o,t.disabled=!1,t.style.backgroundColor=""},3e3)}).catch(e=>{console.error("Submission Error:",e),t.innerHTML="X Submission Failed",t.style.backgroundColor="#ef4444",setTimeout(()=>{t.innerHTML=o,t.disabled=!1,t.style.backgroundColor=""},3e3)})})}function initSkillAnimations(){var e=document.querySelectorAll(".skill-progress");let n=new IntersectionObserver(e=>{e.forEach(o=>{if(o.isIntersecting){let e=o.target,t=e.getAttribute("data-width");e.style.width="0%",setTimeout(()=>{e.style.width=t+"%"},500),n.unobserve(o.target)}})},{threshold:.5});e.forEach(e=>{n.observe(e)})}function initProjectModals(){var e=document.querySelectorAll(".detail-btn"),t=document.querySelectorAll(".modal"),o=document.querySelectorAll(".modal-close");e.forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("data-project"),e=document.getElementById("projectModal"+e);e&&(console.log(e),e.classList.remove("hidden"),e.classList.add("show","flex"),document.body.style.overflow="hidden")})}),o.forEach(t=>{t.addEventListener("click",()=>{var e=t.closest(".modal");e.classList.remove("show","flex"),e.classList.add("hidden"),document.body.style.overflow="auto"})}),t.forEach(t=>{t.addEventListener("click",e=>{e.target===t&&(t.classList.remove("show","flex"),t.classList.add("hidden"),document.body.style.overflow="auto")})})}function initPortfolioModal(){var e=document.getElementById("portfolio-btn");let t=document.getElementById("portfolio-modal");var o=document.querySelector(".por-modal-close");e.addEventListener("click",()=>{t.classList.remove("hidden"),t.classList.add("show","flex"),document.body.style.overflow="hidden"}),o.addEventListener("click",()=>{t.classList.remove("show","flex"),t.classList.add("hidden"),document.body.style.overflow="auto"}),t.addEventListener("click",e=>{e.target===t&&(t.classList.remove("show","flex"),t.classList.add("hidden"),document.body.style.overflow="auto")})}function initScrollProgress(){let o=document.querySelector(".scroll-progress");var e=window.innerHeight,t=document.documentElement.scrollHeight;o.style.width=window.pageYOffset/(t-e)*100+"%",window.addEventListener("scroll",()=>{var e=window.innerHeight,t=document.documentElement.scrollHeight,t=window.pageYOffset/(t-e)*100;o.style.width=t+"%"})}document.addEventListener("DOMContentLoaded",function(){initNavigation(),initScrollAnimations(),initScrollToTop(),initMobileMenu(),initContactForm(),initSkillAnimations(),initProjectModals(),initScrollProgress(),initPortfolioModal()});